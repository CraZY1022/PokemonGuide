# 宝可梦图鉴小程序 V1.1 产品需求文档 (PRD)

| 文档版本 | 修改日期 | 修改人 | 修改内容 |
| :--- | :--- | :--- | :--- |
| v1.1 | 2026-01-13 | Antigravity | V1.1 迭代初稿：体验优化 |

## 1. 迭代目标
本次迭代 (V1.1) 旨在**打磨用户体验**，针对 V1.0 上线后发现的视觉和交互细节问题进行专项优化，提升产品的精致感和流畅度。

## 2. 需求清单

| 模块 | 功能点 | 优先级 | 需求描述 | 验收标准 |
| :--- | :--- | :--- | :--- | :--- |
| **UI 优化** | **属性标签样式升级** | **P0** | 优化列表页和详情页的属性标签（Type Badge）。<br>1. **色彩**：使用更符合官方属性色的高饱和度颜色。<br>2. **图标**：(可选) 增加属性小图标。<br>3. **排版**：减少圆角，尝试胶囊样式或更现代的扁平风格。 | 视觉上更清晰、美观，且文字对比度符合无障碍标准。 |
| **UI 优化** | **闪光切换按钮优化** | **P0** | 重新设计“闪光/普通”切换入口。<br>1. **样式**：从简单的 Switch/文字 升级为带有“✨”图标的浮动按钮或有设计感的 Toggle。<br>2. **状态**：激活（闪光）状态下按钮应有明显的高亮/发光效果。 | 按钮点击区域适中，状态区分明显。 |
| **交互** | **形态切换动效** | **P0** | 优化点击切换时的视觉过渡。<br>1. **效果**：实现 0.3s 的 **Cross-fade (交叉淡入淡出)** 效果，避免图片瞬间跳变。<br>2. **预加载**：进入详情页时静默预加载闪光图片，确保切换无白屏。 | 切换过程平滑，无闪烁空白。 |
| **交互** | **触感反馈 (Haptic)** | **P1 (新增建议)** | 在切换形态成功时触发轻微震动反馈 (`Taptic Engine - Light`)。 | 点击切换按钮时手指有轻微震动确认。 |
| **交互** | **图片预加载** | **P1 (新增建议)** | 进入详情页时，自动预加载闪光形态图片，防止点击切换时出现加载 loading。 | 断网/弱网除外，切换应即时响应。 |

---

## 3. 详细需求说明

### 3.1 属性标签样式 (Type Badge)
*   **当前问题**：V1.0 样式较为单调，可能颜色不够还原。
*   **优化方案**：
    *   参考最新世代游戏 UI，使用**全色块背景 + 白色文字 + 细微阴影**。
    *   定义 18 种属性的标准色值（参考 Bulbapedia/Serebii 标准色）。
    *   字体字号微调，确保在小屏幕下依然清晰。

### 3.2 闪光切换按钮 (Shiny Toggle)
*   **当前问题**：样式普通，缺乏“发现闪光的惊喜感”。
*   **优化方案**：
    *   **位置**：图片区域右上角或右下角悬浮。
    *   **图标**：使用经典的星星 ✨ 图标。
    *   **交互**：
        *   **Normal**: 灰色/空心星星。
        *   **Shiny**: 金色实心星星 + 按钮周围微光晕动效。

### 3.3 形态切换动效 (Transition)
*   **技术实现**：
    *   需确保两张图片容器重叠。
    *   点击时，新形态图片 `opacity: 0 -> 1`，旧形态图片 `opacity: 1 -> 0`。
    *   动画曲线建议使用 `ease-in-out`。

### 3.4 [新增] 触感反馈
*   调用微信小程序 `wx.vibrateShort({ type: 'light' })` 接口。
*   仅在“切换成功”且图片准备就绪时触发。

---

## 4. UI/UX 交付物
*   需要 UI 设计师提供：
    1.  新版属性标签规范（18色值表）。
    2.  闪光按钮 Icon 及选中态样式。
    3.  动效曲线参数 (如有特殊要求)。

## 5. 验收注意事项
*   检查 iOS 和 Android 端颜色渲染是否存在色差。
*   检查动效在低端机型上是否卡顿，如卡顿需降级为无动效直接切换。
